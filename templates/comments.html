{{/* TODO: try recursiveness - template "comments" .Comments */}}
{{define "comments"}}

{{$postId := .Article.Id}}

<div class="row vz-row">
	<div class="col-md-12 vz-col-md-12">
		<div class="vzcomment">
			<p><span class="comment" id="comment_-1"><a href="javascript:ReplyToComment({{$postId}}, -1)">
				<img src="/static/comment.png" width="16" height="16">
				<span style="font-size: 16px !important">Post a New Comment</span>
			</span></p>
			{{ range $t, $tag := .Comments -}}{{/* CommentTags */}}
				{{- if $tag.IsChildrenStart -}}
					<div class="vzcomment_children">
						<div class="vzcomment">
				{{- else if $tag.IsChildrenEnd -}}
						</div>
					</div>
				{{- else -}} {{/* comment text */}}
					<p class="vztagline"><a href="#" onclick="return togglecomment(this)">[&ndash;]</a><a href="#">{{$tag.Username}}</a></p>
					<p>{{$tag.Text}}</p>
					<p><span id="comment_{{$tag.Id}}" style="size: 16px">
						<a href="javascript:ReplyToComment({{$postId}}, {{$tag.Id}})">
							<img src="/static/comment.png" width="16" height="16"> Reply
						</a>
					</span></p>
				{{- end -}}
			{{- end }}
		</div>
	</div> {{/*col-md-12*/}}
</div> {{/*row*/}}
{{end}} {{/*comments*/}}